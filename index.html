<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ES6 Boilerplate</title>
    <meta name="description" content="ES6 Boilerplate">
    <script src='./build/bundle.js'></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.0.1/dist/aframe-extras.min.js"></script>
    <script src="//unpkg.com/aframe-spe-particles-component/dist/aframe-spe-particles-component.min.js"></script>
  </head>
  <body>
    <a-scene renderer="physicallyCorrectLights: true; colorManagement: true;" light='defaultLightsEnabled: false;'>

      <a-assets>
        <img id='carpet-texture' src='./textures/RedCarpet_S.jpg'>
        <img id='carpet-normal' src='./textures/RedCarpet_N.jpg'>
        <img id='wall-texture' src='./textures/TexturesCom_Plaster_StuccoCombed_512_albedo.jpg'>
        <img id='wall-normal' src='./textures/TexturesCom_Plaster_StuccoCombed_512_normal.jpg'>
        <img id="sky" src="night_sky.jpg">

        <a-asset-item id='fireplace' src='./models/fireplace/fireplace.gltf'></a-asset-item>
        <a-asset-item id='chair' src='./models/chair/chair.gltf'></a-asset-item>
        <a-asset-item id='tree' src='./models/christmas_tree/christmas-tree.gltf'></a-asset-item>
        <a-asset-item id='wreath' src='./models/holly_wreath.glb'></a-asset-item>
        <a-asset-item id='logs-model' src='./models/logs/logs.gltf'></a-asset-item>
        <a-asset-item id='stocking' src='./models/stocking.glb'></a-asset-item>
        <a-asset-item id='door' src='./models/door/door.gltf'></a-asset-item>

        <a-mixin id='wall-mat' material='src: #wall-texture; normalMap: #wall-normal; normalScale: 0.02 0.02; repeat: 10 10; roughness: 1'></a-mixin>
      </a-assets>
      <a-sky src='#sky' rotation='0 90 0'></a-sky>
      <a-entity position="0 2.25 -15" particle-system="preset: snow"></a-entity>

      <a-entity id="rig"
          movement-controls="speed: 0.1; constrainToNavMesh: true;"
          position="0 0 0">
            <a-entity camera
              position="0 1.6 0"
              look-controls="pointerLockEnabled: true"></a-entity>
      </a-entity>

      <a-entity template='src: ./templates/models.html'></a-entity>
      <a-entity template='src: ./templates/walls.html'></a-entity>
      <a-entity template='src: ./templates/tree-lights.html'></a-entity>

      <a-entity light='type: ambient; color: #B2FFFF; intensity: .05;'></a-entity>
    </a-scene>
  </body>
</html>
